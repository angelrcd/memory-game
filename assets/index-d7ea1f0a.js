(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function c(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=c(s);fetch(s.href,l)}})();const b=document.querySelector("main");function A(e){const t=document.querySelector(".new-game-card");t&&t.remove();const c=document.createElement("div");c.classList.add("board"),c.classList.add(e);const o=E(e);c.appendChild(o),b.appendChild(c)}function E(e){const t=e==="small"?16:36,c=document.createDocumentFragment();for(let o=0;o<t;o++){const s=document.createElement("div");s.classList.add("cell"),c.appendChild(s)}return c}class M{constructor(t){this.value=t,this.isGuessed=!1}setGuessed(){this.isGuessed=!0}}class O{constructor(t){this.cellList=B(x(t)),this.checkingList=[],this.movesCounter=0}getValueOfCellAt(t){return this.cellList[t].value}checkCell(t){this.checkingList.push(t)}emptyCheckList(){this.checkingList.length=0}compareCellsChecked(){return this.checkingList[0][0].value===this.checkingList[1][0].value?(this.checkingList[0][0].setGuessed(),this.checkingList[1][0].setGuessed(),!0):!1}isGameOver(){for(const t of this.cellList)if(!t.isGuessed)return!1;return!0}}function x(e){const t=[];let c=0;for(let o=0;o<e;o++){o%2===0&&c++;const s=new M(c);t.push(s)}return t}function B(e){for(let t=e.length-1;t>0;t--){const c=Math.floor(Math.random()*(t+1));[e[t],e[c]]=[e[c],e[t]]}return e}const I=["anchor.svg","bell.svg","check.svg","crown.svg","gear.svg","gifts.svg","shop.svg","smile.svg","star.svg","thumbs.svg","atom.svg","drink.svg","lamp.svg","music.svg","target.svg","spade.svg","clover.svg","snowman.svg"];function T(e,t){if(e.classList.add("check"),y==="numbers")e.textContent=t.value;else{const c=document.createElement("img");c.src=I[t.value-1],e.append(c)}}function g(){document.querySelectorAll(".cell").forEach(t=>{t.classList.remove("check")})}function p(e){e.classList.add("guessed")}function N(){document.querySelectorAll(".cell").forEach(t=>{t.classList.remove("guessed")})}function C(e){e.textContent=""}function P(){document.querySelectorAll(".cell").forEach(t=>{t.textContent=""})}let n,y;function W(e){y=e}function S(e){n=new O(e),g(),N(),P()}function z(e,t){return[n.cellList[e],t[e]]}const F=document.querySelector(".moves-counter p:last-child"),D=document.querySelector(".time-counter p:last-child");function h(e){F.textContent=e}function a(e){D.textContent=e}let m,d=0,r,i;function R(e,t){m||t||(m=setInterval(function(){r=parseInt(d/60,10),i=parseInt(d%60,10),r=r<10?"0"+r:r,i=i<10?"0"+i:i,e(r+":"+i),d++},1e3))}function f(e){clearInterval(m),m=null,d=0,e("00:00")}const q=document.querySelector("#game-win-modal"),V=document.querySelector(".time-result"),j=document.querySelector(".moves-result");function H(e,t){V.textContent=e,j.textContent=t}function K(e,t){H(e,t),q.showModal()}function Z(){q.close()}const w=new Audio("sound/correct.wav");w.volume=.5;function $(e){const[t,c]=e;if(n.checkingList.length!==2&&!t.isGuessed&&!(n.checkingList[0]&&c===n.checkingList[0][1])&&(T(c,t),n.checkCell(e),n.checkingList.length===2)){n.movesCounter++,h(n.movesCounter);const o=n.compareCellsChecked();if(o&&(w.play(),p(n.checkingList[0][1],n.checkingList[0][0]),p(n.checkingList[1][1],n.checkingList[1][0]),n.isGameOver())){const s=document.querySelector(".time-counter p:nth-child(2)").textContent,l=document.querySelector(".moves-counter p:nth-child(2)").textContent;f(a),a(s),console.log("Ganasteeee!!!"),K(s,l)}setTimeout(()=>{o||(C(n.checkingList[0][1]),C(n.checkingList[1][1])),g(),n.emptyCheckList()},1e3)}}const J=document.querySelector(".new-game"),Q=document.querySelector(".restart"),v=document.querySelector("dialog"),U=document.querySelector("dialog button"),X=document.querySelector("#game-win-modal button"),Y=document.querySelector(".test");Y.onclick=()=>{console.log(n.cellList)};J.onclick=()=>v.showModal();U.onclick=()=>{h(0),f(a),_(),v.close()};Q.onclick=()=>{h(0),f(a);const e=n.cellList.length;S(e),g()};X.onclick=()=>{Z(),v.showModal()};function _(){const e=document.querySelector(".board");e==null||e.remove();const t=document.querySelector("input[name=board-size]:checked").value,c=t==="small"?16:36,o=document.querySelector("input[name=select-theme]:checked").value;W(o),A(t),S(c);const s=document.querySelectorAll(".cell");s.forEach((l,u)=>{l.addEventListener("click",()=>{R(a,n.isGameOver());const G=z(u,s);$(G)})})}const L=["anchor.svg","bell.svg","check.svg","crown.svg","gear.svg","gifts.svg","shop.svg","smile.svg","star.svg","thumbs.svg","atom.svg","drink.svg","lamp.svg","music.svg","target.svg","spade.svg","clover.svg","snowman.svg"],k=[];function ee(){for(let e=0;e<L.length;e++){const t=new Image;t.src=L[e],k.push(k)}}ee();
