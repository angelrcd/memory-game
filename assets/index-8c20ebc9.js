(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const l of c)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function s(c){const l={};return c.integrity&&(l.integrity=c.integrity),c.referrerPolicy&&(l.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?l.credentials="include":c.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(c){if(c.ep)return;c.ep=!0;const l=s(c);fetch(c.href,l)}})();const q=document.querySelector("main");function G(e){const t=document.querySelector(".new-game-card");t&&t.remove();const s=document.createElement("div");s.classList.add("board"),s.classList.add(e);const o=A(e);s.appendChild(o),q.appendChild(s)}function A(e){const t=e==="small"?16:36,s=document.createDocumentFragment();for(let o=0;o<t;o++){const c=document.createElement("div");c.classList.add("cell"),s.appendChild(c)}return s}class E{constructor(t){this.value=t,this.isGuessed=!1}setGuessed(){this.isGuessed=!0}}class b{constructor(t){this.cellList=O(w(t)),this.checkingList=[],this.movesCounter=0}getValueOfCellAt(t){return this.cellList[t].value}checkCell(t){this.checkingList.push(t)}emptyCheckList(){this.checkingList.length=0}compareCellsChecked(){return this.checkingList[0][0].value===this.checkingList[1][0].value?(this.checkingList[0][0].setGuessed(),this.checkingList[1][0].setGuessed(),!0):!1}isGameOver(){for(const t of this.cellList)if(console.log(this.cellList),!t.isGuessed)return!1;return!0}}function w(e){const t=[];let s=0;for(let o=0;o<e;o++){o%2===0&&s++;const c=new E(s);t.push(c)}return t}function O(e){for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e}const B=["anchor.svg","bell.svg","check.svg","crown.svg","gear.svg","gifts.svg","shop.svg","smile.svg","star.svg","thumbs.svg","atom.svg","drink.svg","lamp.svg","music.svg","target.svg","spade.svg","clover.svg","snowman.svg"];function T(e,t){if(console.log(h),e.classList.add("check"),h==="numbers")e.textContent=t.value;else{const s=document.createElement("img");s.src=B[t.value-1],e.append(s)}}function f(){document.querySelectorAll(".cell").forEach(t=>{t.classList.remove("check")})}function C(e){e.classList.add("guessed")}function x(){document.querySelectorAll(".cell").forEach(t=>{t.classList.remove("guessed")})}function L(e){e.textContent=""}function N(){document.querySelectorAll(".cell").forEach(t=>{t.textContent=""})}let n,h;function I(e){h=e}function p(e){n=new b(e),f(),x(),N()}function M(e,t){return[n.cellList[e],t[e]]}const P=document.querySelector(".moves-counter p:last-child"),z=document.querySelector(".time-counter p:last-child");function g(e){P.textContent=e}function a(e){z.textContent=e}let m,d=0,r,i;function F(e,t){m||t||(m=setInterval(function(){r=parseInt(d/60,10),i=parseInt(d%60,10),r=r<10?"0"+r:r,i=i<10?"0"+i:i,e(r+":"+i),d++},1e3))}function v(e){clearInterval(m),m=null,d=0,e("00:00")}const k=new Audio("/sound/correct.wav");k.volume=.5;function D(e){const[t,s]=e;if(n.checkingList.length!==2&&!t.isGuessed&&!(n.checkingList[0]&&s===n.checkingList[0][1])&&(T(s,t),n.checkCell(e),console.log(n.checkingList),n.checkingList.length===2)){n.movesCounter++,g(n.movesCounter);const o=n.compareCellsChecked();if(o&&(k.play(),C(n.checkingList[0][1],n.checkingList[0][0]),C(n.checkingList[1][1],n.checkingList[1][0]),n.isGameOver())){const c=document.querySelector(".time-counter p:nth-child(2)").textContent;console.log(c),v(a),a(c),console.log("Ganasteeee!!!")}setTimeout(()=>{o||(L(n.checkingList[0][1]),L(n.checkingList[1][1])),f(),n.emptyCheckList()},1e3)}}const V=document.querySelector(".new-game"),j=document.querySelector(".restart"),y=document.querySelector("dialog"),H=document.querySelector("dialog button"),K=document.querySelector(".test");K.onclick=()=>console.log(n.cellList);V.onclick=()=>y.showModal();H.onclick=()=>{g(0),v(a),Z(),y.close()};j.onclick=()=>{g(0),v(a);const e=n.cellList.length;p(e),f()};function Z(){const e=document.querySelector(".board");e==null||e.remove();const t=document.querySelector("input[name=board-size]:checked").value,s=t==="small"?16:36,o=document.querySelector("input[name=select-theme]:checked").value;I(o),G(t),p(s);const c=document.querySelectorAll(".cell");c.forEach((l,u)=>{l.addEventListener("click",()=>{F(a,n.isGameOver());const S=M(u,c);D(S)})})}
